function addPush(t,e){var a=t.attr("data-href"),s=t.attr("title"),n=t.attr("id").replace("post_","");a||(a=t.attr("href")),history.pushState({url:a,name:s,ID:n,type:e},n,a),document.title=s+" · Faaborg Gymnasium"}function resetOldPush(){var t=$(".reading");t.length&&t.removeClass("reading")}function setPopstateReading(t){t.addClass("reading"),(t.hasClass("mb-entry")||$("body").hasClass("single-nyt")||$("body").hasClass("archive-nyt"))&&(t.next("hr").prependTo(".post-list"),t.prependTo(".post-list")),$("html, body").delay(200).animate({scrollTop:t.offset().top-$("#head").innerHeight()},200)}$(function(){window.onpopstate=function(t){t.state&&("nyt"!==t.state.type&&"medarbejder"!==t.state.type||(document.title=t.state.name+" · Faaborg Gymnasium",resetOldPush(),setPopstateReading($("#post_"+t.state.ID))))},$(".archive-entry.reading").length&&($(".archive-entry.reading"),$(".archive-entry.reading"),($("body").hasClass("single-nyt")||$("body").hasClass("archive-nyt"))&&($(".archive-entry.reading").next("hr").prependTo(".post-list"),$(".archive-entry.reading").prependTo(".post-list")),$("html, body").delay(200).animate({scrollTop:$(".archive-entry.reading").offset().top-$("#head").innerHeight()},200)),$(".archive-entry").click(function(t){$("body").hasClass("post-type-archive-tema")||"content-add-btn"===$(this).attr("id")||"add-edit-content"===$(this).attr("id")||$("body").hasClass("page")||$(this).hasClass("reading")||(resetOldPush(),addPush($(this),"nyt"),setPopstateReading($(this)))}),$(".mb-entry.reading").length&&($(".mb-entry.reading").next("hr").prependTo(".post-list"),$(".mb-entry.reading").prependTo(".post-list")),$(".mb-entry").click(function(t){$(this).hasClass("reading")||(resetOldPush(),addPush($(this),"medarbejder"),setPopstateReading($(this)))}),$(".page .archive-entry").bind("click",function(){var t=$(this).attr("data-href");console.log(t),window.location=t})});
